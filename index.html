<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wait Time Display</title>
</head>
<body>
<h1>Wait Times for Resources</h1>
<div id="resource-list"></div>

<script>
const apiEndpoint = 'https://wait-time-api.vercel.app/api/wait-time?resourceId=g5vf3PLphGsH6CwksXYi'; // Replace with your API endpoint

function fetchResources() {
    fetch(apiEndpoint)
    .then(response => response.json())
    .then(data => {
        console.log(data);  // Log the fetched data for debugging
        const resourceListDiv = document.getElementById('resource-list');
        resourceListDiv.innerHTML = ''; // Clear previous resources

        // Check if data is an object
        if (typeof data === 'object') {
            // Loop through each key-value pair in the data object
            for (const key in data) {
                if (data.hasOwnProperty(key)) {
                    // Create a new element for each key-value pair
                    const dataDiv = document.createElement('div');
                    dataDiv.className = 'data-item';

                    // Display the key and its corresponding value
                    const value = JSON.stringify(data[key], null, 2); // Stringify for better formatting
                    dataDiv.innerHTML = `
                        <h3>${key}</h3>
                        <pre>${value}</pre>
                    `;
                    resourceListDiv.appendChild(dataDiv);
                }
            }
        } else {
            console.error('Error: Expected an object for data.');
        }
    })
    .catch(error => {
        console.error('Error fetching resources:', error);
    });
}


// Call fetchResources when the page loads
window.onload = fetchResources;
</script>
</body>
</html>
