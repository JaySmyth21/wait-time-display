<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wait Time Display</title>
</head>
<body>
    <h1>Wait Times for Resources</h1>
    <div id="resource-list"></div>

    <script>
        const apiEndpoint = 'https://wait-time-api.vercel.app/api/wait-time?resourceId=g5vf3PLphGsH6CwksXYi'; // Replace with your API endpoint

       function fetchResources() {
    fetch(apiEndpoint)
        .then(response => response.json())
        .then(data => {
            console.log(data);  // Log the resources for debugging
            if (Array.isArray(data.results)) {
                const resourceListDiv = document.getElementById('resource-list');
                resourceListDiv.innerHTML = ''; // Clear previous resources

                data.results.forEach(resource => {
                    // Create a new element for each resource
                    const resourceDiv = document.createElement('div');
                    resourceDiv.className = 'resource';

                    // Get wait time details from resource properties
                    const waitTime = resource.wait || 0; // Assuming wait is in seconds
                    const estimatedWaitTime = Math.ceil(waitTime / 60); // Convert to minutes

                    // Display the estimated wait time
                    resourceDiv.innerHTML = `
                        <p>Estimated Wait Time: ${estimatedWaitTime} minutes</p>
                    `;
                    resourceListDiv.appendChild(resourceDiv);
                });
            } else {
                console.error('Error: Expected an array for resources.');
            }
        })
        .catch(error => {
            console.error('Error fetching resources:', error);
        });
}

        // Call fetchResources when the page loads
        window.onload = fetchResources;
    </script>
</body>
</html>
